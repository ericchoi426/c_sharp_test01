using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace com.lgcns.tct.malware
{
    public class MalwareRun
    {
        static void Main(string[] args)
        {
            // 제공 데이터 세트2를 실행하려면 loadData에서 제공 데이터 세트1을 주석 처리하고 제공 데이터 세트2를 주석 해제하여 실행
            List<string> inputData = LoadData();
            PrintInput(inputData);
            Malware malware = new Malware();

            // 1단계 악성코드 제거
            List<string> firstCodeNameList = malware.GetFirstCode(inputData);
            PrintFirstCodeName(firstCodeNameList);

            // 2단계 악성코드 제거
            List<string> secondCodeNameList = malware.GetSecondCode(firstCodeNameList);
            PrintSecondCodeName(secondCodeNameList);

            Console.WriteLine("please press any key to continue");
            Console.ReadKey();
        }
        private static List<string> LoadData()
        {


            //////////////////////////////////
            // 제공 데이터 세트 1
            /////////////////////////////////    	

            //List<string> inputData = new List<string>()
            //{
            //    "abc.txt", "abce", "abcd.txt", "acde.txt", "bxyz.txt", "bcde", "axbz.txt", "abcxd.txt", "acxy.txt", "axzy.txt"
            //};






            //////////////////////////////////
            // 제공 데이터 세트 2
            /////////////////////////////////

            List<string> inputData = new List<string>()
            {
                "bcd.txt", "bce", "bcdx.txt", "axcd.txt", "axde","axyz.txt", "cxyd.txt", "bcxa.txt", "bazy.txt"
            };

            return inputData;
        }

        private static void PrintInput(List<string> inputData)
        {
            PrintLineInitial();
            Console.Write("입력: ");
            foreach (string str in inputData)
            {
                Console.Write(str + " ");
            }
            Console.WriteLine();

            PrintLine();
        }

        private static void PrintFirstCodeName(List<string> firstCodeNameList)
        {
            Console.WriteLine("[1단계 악성코드가 제거된 목록]");
            Console.Write("출력: ");
            if (firstCodeNameList == null)
            {
                Console.Write("결과값이 없습니다.");
            }
            else
            {
                foreach (string firstCodeName in firstCodeNameList)
                {
                    Console.Write(firstCodeName + " ");
                }
            }
            Console.WriteLine();
            PrintLine();
        }

        private static void PrintSecondCodeName(List<string> secondCodeNameList)
        {
            Console.WriteLine("[2단계 악성코드가 제거된 목록]");
            Console.Write("출력: ");
            if (secondCodeNameList == null)
            {
                Console.Write("결과값이 없습니다.");
            }
            else
            {
                foreach (string secondCodeName in secondCodeNameList)
                {
                    Console.Write(secondCodeName + " ");
                }
            }
            Console.WriteLine();
            PrintLine();
        }

        private static void PrintLineInitial()
        {
            Console.WriteLine("[초기 입력 데이터]");
        }

        private static void PrintLine()
        {
            Console.WriteLine("--------------------------------------------------------------------");
        }
    }
}
